- pipeline: deploy-to-bot
  name: Deploy to Bot
  refs:
  - refs/heads/main
  fail_on_prepare_env_warning: true
  resources: X2LARGE
  events:
  - type: WEBHOOK
  actions:
  - action: python3 bot.py
    type: BUILD
    execute_commands:
    - cd MiniDyno-buildable/
    - apt update
    - apt install python3-venv python3-pip -y
    - source .venv/bin/activate
    - pip install -r requirements.txt
    - make run
    shell: BASH
    docker_image_name: buddy/localshell
    docker_image_tag: ubuntu_24.04
